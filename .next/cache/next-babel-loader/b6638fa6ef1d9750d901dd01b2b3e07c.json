{"ast":null,"code":"import { useState, useEffect } from \"react\";\nexport function useLocalState(key, initial) {\n  const {\n    0: value,\n    1: setValue\n  } = useState(() => {\n    if (false && window.localStorage) {\n      const saved = window.localStorage.getItem(key);\n\n      if (saved) {\n        return JSON.parse(saved);\n      }\n    }\n\n    return initial;\n  });\n  useEffect(() => {\n    if (window.localStorage) {\n      window.localStorage.setItem(key, JSON.stringify(value));\n    }\n  }, [value]);\n  return [value, setValue];\n}","map":{"version":3,"sources":["C:/Users/Windows/Desktop/housestreetcourse/house-course/src/utils/useLocalState.ts"],"names":["useState","useEffect","useLocalState","key","initial","value","setValue","window","localStorage","saved","getItem","JSON","parse","setItem","stringify"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,SAASC,aAAT,CAAsCC,GAAtC,EAAmDC,OAAnD,EAA+D;AACpE,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBN,QAAQ,CAAI,MAAM;AAC1C,QAAI,SAAiCO,MAAM,CAACC,YAA5C,EAA0D;AACxD,YAAMC,KAAK,GAAGF,MAAM,CAACC,YAAP,CAAoBE,OAApB,CAA4BP,GAA5B,CAAd;;AACA,UAAIM,KAAJ,EAAW;AACT,eAAOE,IAAI,CAACC,KAAL,CAAWH,KAAX,CAAP;AACD;AACF;;AACD,WAAOL,OAAP;AACD,GARiC,CAAlC;AAUAH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,MAAM,CAACC,YAAX,EAAyB;AACvBD,MAAAA,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4BV,GAA5B,EAAiCQ,IAAI,CAACG,SAAL,CAAeT,KAAf,CAAjC;AACD;AACF,GAJQ,EAIN,CAACA,KAAD,CAJM,CAAT;AAMA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport function useLocalState<S = undefined>(key: string, initial: S) {\r\n  const [value, setValue] = useState<S>(() => {\r\n    if (typeof window !== \"undefined\" && window.localStorage) {\r\n      const saved = window.localStorage.getItem(key);\r\n      if (saved) {\r\n        return JSON.parse(saved);\r\n      }\r\n    }\r\n    return initial;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage) {\r\n      window.localStorage.setItem(key, JSON.stringify(value));\r\n    }\r\n  }, [value]);\r\n\r\n  return [value, setValue] as [typeof value, typeof setValue];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}